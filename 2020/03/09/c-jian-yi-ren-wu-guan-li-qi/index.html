
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>C#简易任务管理器 - duan</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="WPF完成简易任务管理器
实现进程信息的显示
结束进程
启动进程功能
程序入口

主窗体布局界面
主窗体布局代码(XML)&amp;lt;Window x:Class=&#34;任务管理器作业.MainWindow,"> 
    <meta name="author" content="duanqiao"> 
    <link rel="alternative" href="atom.xml" title="duan" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
    
<link rel="stylesheet" href="/css/diaspora.css">

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
<meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body class="loading">
    <span id="config-title" style="display:none">duan</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="https://www.duanqyt.xyz"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">C#简易任务管理器</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">C#简易任务管理器</h1>
        <div class="stuff">
            <span>三月 09, 2020</span>
            
  <ul class="post-tags-list" itemprop="keywords"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/C/" rel="tag">C#</a></li></ul>


        </div>
        <div class="content markdown">
            <h3 id="WPF完成简易任务管理器"><a href="#WPF完成简易任务管理器" class="headerlink" title="WPF完成简易任务管理器"></a>WPF完成简易任务管理器</h3><ul>
<li>实现进程信息的显示</li>
<li>结束进程</li>
<li>启动进程功能<a id="more"></a>
<h4 id="程序入口"><a href="#程序入口" class="headerlink" title="程序入口"></a>程序入口</h4></li>
</ul>
<h5 id="主窗体布局界面"><a href="#主窗体布局界面" class="headerlink" title="主窗体布局界面"></a>主窗体布局界面</h5><p><img src="http://q6py5t1v8.bkt.clouddn.com/%E7%AE%80%E6%98%93%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%99%A8%E4%B8%BB%E7%AA%97%E5%8F%A3%E5%B8%83%E5%B1%80%E7%95%8C%E9%9D%A2.png" alt="主窗体布局界面"></p>
<h5 id="主窗体布局代码-XML"><a href="#主窗体布局代码-XML" class="headerlink" title="主窗体布局代码(XML)"></a>主窗体布局代码(XML)</h5><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>Window x:Class<span class="token operator">=</span><span class="token string">"任务管理器作业.MainWindow"</span>
        xmlns<span class="token operator">=</span><span class="token string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span>
        xmlns:x<span class="token operator">=</span><span class="token string">"http://schemas.microsoft.com/winfx/2006/xaml"</span>
        xmlns:d<span class="token operator">=</span><span class="token string">"http://schemas.microsoft.com/expression/blend/2008"</span>
        xmlns:mc<span class="token operator">=</span><span class="token string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span>
        xmlns:local<span class="token operator">=</span><span class="token string">"clr-namespace:任务管理器作业"</span>
        mc:Ignorable<span class="token operator">=</span><span class="token string">"d"</span>
        Title<span class="token operator">=</span><span class="token string">"任务管理器"</span> Height<span class="token operator">=</span><span class="token string">"450"</span> Width<span class="token operator">=</span><span class="token string">"800"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>Grid<span class="token operator">></span>
        <span class="token operator">&lt;</span>Grid.RowDefinitions<span class="token operator">></span>
            <span class="token operator">&lt;</span>RowDefinition Height<span class="token operator">=</span><span class="token string">"50"</span>/<span class="token operator">></span>
            <span class="token operator">&lt;</span>RowDefinition Height<span class="token operator">=</span><span class="token string">"330"</span>/<span class="token operator">></span>
            <span class="token operator">&lt;</span>RowDefinition /<span class="token operator">></span>
        <span class="token operator">&lt;</span>/Grid.RowDefinitions<span class="token operator">></span>
        <span class="token operator">&lt;</span>Label Grid.Row<span class="token operator">=</span><span class="token string">"0"</span> Content<span class="token operator">=</span><span class="token string">"启动、停止和观察进程"</span> FontSize<span class="token operator">=</span><span class="token string">"26"</span> FontFamily<span class="token operator">=</span><span class="token string">"华文新魏"</span> VerticalAlignment<span class="token operator">=</span><span class="token string">"Top"</span> HorizontalAlignment<span class="token operator">=</span><span class="token string">"Center"</span>/<span class="token operator">></span>
        <span class="token operator">&lt;</span>DataGrid x:Name<span class="token operator">=</span><span class="token string">"dataGrid1"</span> Grid.Row<span class="token operator">=</span><span class="token string">"1"</span> Height<span class="token operator">=</span><span class="token string">"330"</span> Grid.RowSpan<span class="token operator">=</span><span class="token string">"2"</span> VerticalAlignment<span class="token operator">=</span><span class="token string">"Top"</span> AutoGenerateColumns<span class="token operator">=</span><span class="token string">"False"</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>DataGrid.Columns<span class="token operator">></span>
                <span class="token operator">&lt;</span>DataGridTextColumn Binding<span class="token operator">=</span><span class="token string">"{Binding Id}"</span> ClipboardContentBinding<span class="token operator">=</span><span class="token string">"{x:Null}"</span> Header<span class="token operator">=</span><span class="token string">"进程ID"</span> Width<span class="token operator">=</span><span class="token string">"100"</span> FontSize<span class="token operator">=</span><span class="token string">"18"</span>/<span class="token operator">></span>
                <span class="token operator">&lt;</span>DataGridTextColumn Binding<span class="token operator">=</span><span class="token string">"{Binding Name}"</span> ClipboardContentBinding<span class="token operator">=</span><span class="token string">"{x:Null}"</span> Header<span class="token operator">=</span><span class="token string">"进程名称"</span> Width<span class="token operator">=</span><span class="token string">"120"</span> FontSize<span class="token operator">=</span><span class="token string">"18"</span>/<span class="token operator">></span>
                <span class="token operator">&lt;</span>DataGridTextColumn Binding<span class="token operator">=</span><span class="token string">"{Binding TotalMemory}"</span> ClipboardContentBinding<span class="token operator">=</span><span class="token string">"{x:Null}"</span> Header<span class="token operator">=</span><span class="token string">"占用内存"</span> Width<span class="token operator">=</span><span class="token string">"120"</span> FontSize<span class="token operator">=</span><span class="token string">"18"</span>/<span class="token operator">></span>
                <span class="token operator">&lt;</span>DataGridTextColumn Binding<span class="token operator">=</span><span class="token string">"{Binding StartTime}"</span> ClipboardContentBinding<span class="token operator">=</span><span class="token string">"{x:Null}"</span> Header<span class="token operator">=</span><span class="token string">"启动时间"</span> Width<span class="token operator">=</span><span class="token string">"140"</span> FontSize<span class="token operator">=</span><span class="token string">"18"</span>/<span class="token operator">></span>
                <span class="token operator">&lt;</span>DataGridTextColumn Binding<span class="token operator">=</span><span class="token string">"{Binding FileName}"</span> ClipboardContentBinding<span class="token operator">=</span><span class="token string">"{x:Null}"</span> Header<span class="token operator">=</span><span class="token string">"文件路径"</span> Width<span class="token operator">=</span><span class="token string">"Auto"</span> FontSize<span class="token operator">=</span><span class="token string">"18"</span>/<span class="token operator">></span>
            <span class="token operator">&lt;</span>/DataGrid.Columns<span class="token operator">></span>
        <span class="token operator">&lt;</span>/DataGrid<span class="token operator">></span>
        <span class="token operator">&lt;</span>StackPanel Grid.Row<span class="token operator">=</span><span class="token string">"2"</span> HorizontalAlignment<span class="token operator">=</span><span class="token string">"Center"</span>  Height<span class="token operator">=</span><span class="token string">"50"</span> VerticalAlignment<span class="token operator">=</span><span class="token string">"Center"</span> Orientation<span class="token operator">=</span><span class="token string">"Horizontal"</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>Button Name<span class="token operator">=</span><span class="token string">"StartBtn"</span> FontSize<span class="token operator">=</span><span class="token string">"22"</span> FontFamily<span class="token operator">=</span><span class="token string">"华文新魏"</span> Background<span class="token operator">=</span><span class="token string">"AliceBlue"</span> Foreground<span class="token operator">=</span><span class="token string">"#FF0D0D0E"</span> Content<span class="token operator">=</span><span class="token string">"启动进程"</span> Margin<span class="token operator">=</span><span class="token string">"0,0,20,0"</span> Width<span class="token operator">=</span><span class="token string">"100"</span> Height<span class="token operator">=</span><span class="token string">"50"</span> VerticalAlignment<span class="token operator">=</span><span class="token string">"Top"</span> Click<span class="token operator">=</span><span class="token string">"StartBtn_Click"</span>/<span class="token operator">></span>
            <span class="token operator">&lt;</span>Button Name<span class="token operator">=</span><span class="token string">"StopBtn"</span> FontSize<span class="token operator">=</span><span class="token string">"22"</span>  FontFamily<span class="token operator">=</span><span class="token string">"华文新魏"</span> Background<span class="token operator">=</span><span class="token string">"AliceBlue"</span> Foreground<span class="token operator">=</span><span class="token string">"#FF0C0315"</span> Content<span class="token operator">=</span><span class="token string">"结束进程"</span> Width<span class="token operator">=</span><span class="token string">"100"</span> Click<span class="token operator">=</span><span class="token string">"StopBtn_Click"</span>/<span class="token operator">></span>
        <span class="token operator">&lt;</span>/StackPanel<span class="token operator">></span>
    <span class="token operator">&lt;</span>/Grid<span class="token operator">></span>
<span class="token operator">&lt;</span>/Window<span class="token operator">></span>
</code></pre>
<h5 id="主窗口后台代码"><a href="#主窗口后台代码" class="headerlink" title="主窗口后台代码"></a>主窗口后台代码</h5><pre class=" language-bash"><code class="language-bash">using System<span class="token punctuation">;</span>
using System.Collections.Generic<span class="token punctuation">;</span>
using System.Diagnostics<span class="token punctuation">;</span>
using System.Linq<span class="token punctuation">;</span>
using System.Text<span class="token punctuation">;</span>
using System.Threading.Tasks<span class="token punctuation">;</span>
using System.Windows<span class="token punctuation">;</span>
using System.Windows.Controls<span class="token punctuation">;</span>
using System.Windows.Data<span class="token punctuation">;</span>
using System.Windows.Documents<span class="token punctuation">;</span>
using System.Windows.Input<span class="token punctuation">;</span>
using System.Windows.Media<span class="token punctuation">;</span>
using System.Windows.Media.Imaging<span class="token punctuation">;</span>
using System.Windows.Navigation<span class="token punctuation">;</span>
using System.Windows.Shapes<span class="token punctuation">;</span>
using 任务管理器作业.PageOrWindow<span class="token punctuation">;</span>

namespace 任务管理器作业
<span class="token punctuation">{</span>
    /// <span class="token operator">&lt;</span>summary<span class="token operator">></span>
    /// MainWindow.xaml 的交互逻辑
    /// <span class="token operator">&lt;</span>/summary<span class="token operator">></span>
    public partial class MainWindow <span class="token keyword">:</span> Window
    <span class="token punctuation">{</span>
        public MainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            InitializeComponent<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            RefreshProcessInfo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        private void StartBtn_Click<span class="token punctuation">(</span>object sender, RoutedEventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Window w <span class="token operator">=</span> new StartNewProcess<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            w.Show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            RefreshProcessInfo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        private void StopBtn_Click<span class="token punctuation">(</span>object sender, RoutedEventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            var duan <span class="token operator">=</span> dataGrid1.SelectedItem<span class="token punctuation">;</span>

            try
            <span class="token punctuation">{</span>

                Data selectItem <span class="token operator">=</span> duan as Data<span class="token punctuation">;</span>
                Process p <span class="token operator">=</span> Process.GetProcessById<span class="token punctuation">(</span>selectItem.Id<span class="token punctuation">)</span><span class="token punctuation">;</span>
                p.Kill<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            catch <span class="token punctuation">(</span>Exception<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                MessageBox.Show<span class="token punctuation">(</span><span class="token string">"无法关闭"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            RefreshProcessInfo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        List<span class="token operator">&lt;</span>Data<span class="token operator">></span> processList <span class="token operator">=</span> new List<span class="token operator">&lt;</span>Data<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        /// <span class="token operator">&lt;</span>summary<span class="token operator">></span>
        /// 
        /// <span class="token operator">&lt;</span>/summary<span class="token operator">></span>
        private void RefreshProcessInfo<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            dataGrid1.ItemsSource <span class="token operator">=</span> null<span class="token punctuation">;</span>
            processList.Clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Process<span class="token punctuation">[</span><span class="token punctuation">]</span> process <span class="token operator">=</span> Process.GetProcesses<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            foreach<span class="token punctuation">(</span>Process p <span class="token keyword">in</span> process<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                Data duan_data <span class="token operator">=</span> new Data<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                duan_data.Id <span class="token operator">=</span> p.Id<span class="token punctuation">;</span>
                duan_data.Name <span class="token operator">=</span> p.ProcessName<span class="token punctuation">;</span>

                duan_data.TotalMemory <span class="token operator">=</span> p.WorkingSet64.ToString<span class="token punctuation">(</span><span class="token string">"{0,10:0}"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                try
                <span class="token punctuation">{</span>
                    duan_data.StartTime <span class="token operator">=</span> p.StartTime.ToString<span class="token punctuation">(</span><span class="token string">"yyyy-M-d HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                catch <span class="token punctuation">(</span>Exception<span class="token punctuation">)</span>
                <span class="token punctuation">{</span>

                    duan_data.StartTime <span class="token operator">=</span> <span class="token string">"无法获取"</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                try
                <span class="token punctuation">{</span>
                    duan_data.FileName <span class="token operator">=</span> p.MainModule.FileName<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                catch <span class="token punctuation">(</span>Exception<span class="token punctuation">)</span>
                <span class="token punctuation">{</span>

                    duan_data.FileName <span class="token operator">=</span> <span class="token string">"无法获取"</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                processList.Add<span class="token punctuation">(</span>duan_data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            dataGrid1.ItemsSource <span class="token operator">=</span> processList<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        public class Data
        <span class="token punctuation">{</span>
            //进程号
            public int Id <span class="token punctuation">{</span> get<span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            //进程名
            public string Name <span class="token punctuation">{</span> get<span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            //启动时间
            public string StartTime <span class="token punctuation">{</span> get<span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            //占用内存
            public string TotalMemory <span class="token punctuation">{</span> get<span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            //文件路径
            public string FileName <span class="token punctuation">{</span> get<span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="点击启动按钮时，弹出新窗口"><a href="#点击启动按钮时，弹出新窗口" class="headerlink" title="点击启动按钮时，弹出新窗口"></a>点击启动按钮时，弹出新窗口</h4><h5 id="新窗口布局压面如下"><a href="#新窗口布局压面如下" class="headerlink" title="新窗口布局压面如下"></a>新窗口布局压面如下</h5><p><img src="http://q6py5t1v8.bkt.clouddn.com/%E5%90%AF%E5%8A%A8%E4%BB%BB%E5%8A%A1%E7%AA%97%E5%8F%A3%E5%B8%83%E5%B1%80%E7%95%8C%E9%9D%A2.png" alt="启动任务的窗口布局"></p>
<h5 id="布局界面代码"><a href="#布局界面代码" class="headerlink" title="布局界面代码"></a>布局界面代码</h5><pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>Window x:Class<span class="token operator">=</span><span class="token string">"任务管理器作业.PageOrWindow.StartNewProcess"</span>
        xmlns<span class="token operator">=</span><span class="token string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span>
        xmlns:x<span class="token operator">=</span><span class="token string">"http://schemas.microsoft.com/winfx/2006/xaml"</span>
        xmlns:d<span class="token operator">=</span><span class="token string">"http://schemas.microsoft.com/expression/blend/2008"</span>
        xmlns:mc<span class="token operator">=</span><span class="token string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span>
        xmlns:local<span class="token operator">=</span><span class="token string">"clr-namespace:任务管理器作业.PageOrWindow"</span>
        mc:Ignorable<span class="token operator">=</span><span class="token string">"d"</span>
        Title<span class="token operator">=</span><span class="token string">"StartNewProcess"</span> Height<span class="token operator">=</span><span class="token string">"450"</span> Width<span class="token operator">=</span><span class="token string">"800"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>Grid<span class="token operator">></span>
        <span class="token operator">&lt;</span>Grid.ColumnDefinitions<span class="token operator">></span>
            <span class="token operator">&lt;</span>ColumnDefinition Width<span class="token operator">=</span><span class="token string">"150"</span>/<span class="token operator">></span>
            <span class="token operator">&lt;</span>ColumnDefinition Width<span class="token operator">=</span><span class="token string">"500"</span>/<span class="token operator">></span>
            <span class="token operator">&lt;</span>ColumnDefinition Width<span class="token operator">=</span><span class="token string">"150"</span>/<span class="token operator">></span>
        <span class="token operator">&lt;</span>/Grid.ColumnDefinitions<span class="token operator">></span>
        <span class="token operator">&lt;</span>Label Content<span class="token operator">=</span><span class="token string">"待启动进程名称："</span> Grid.Column<span class="token operator">=</span><span class="token string">"1"</span> FontSize<span class="token operator">=</span><span class="token string">"20"</span> HorizontalAlignment<span class="token operator">=</span><span class="token string">"Left"</span> Margin<span class="token operator">=</span><span class="token string">"21.6,107,0,0"</span> VerticalAlignment<span class="token operator">=</span><span class="token string">"Top"</span> Width<span class="token operator">=</span><span class="token string">"162"</span> Height<span class="token operator">=</span><span class="token string">"36"</span>/<span class="token operator">></span>
        <span class="token operator">&lt;</span>TextBox Name<span class="token operator">=</span><span class="token string">"fileName"</span> Grid.Column<span class="token operator">=</span><span class="token string">"1"</span> HorizontalAlignment<span class="token operator">=</span><span class="token string">"Left"</span> FontSize<span class="token operator">=</span><span class="token string">"20"</span> Height<span class="token operator">=</span><span class="token string">"36"</span> Margin<span class="token operator">=</span><span class="token string">"237.6,107,0,0"</span> TextWrapping<span class="token operator">=</span><span class="token string">"Wrap"</span> Text<span class="token operator">=</span><span class="token string">""</span> VerticalAlignment<span class="token operator">=</span><span class="token string">"Top"</span> Width<span class="token operator">=</span><span class="token string">"171"</span>/<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button Name<span class="token operator">=</span><span class="token string">"Start"</span> FontSize<span class="token operator">=</span><span class="token string">"22"</span> Background<span class="token operator">=</span><span class="token string">"AliceBlue"</span>  Content<span class="token operator">=</span><span class="token string">"启动"</span> Grid.Column<span class="token operator">=</span><span class="token string">"1"</span> HorizontalAlignment<span class="token operator">=</span><span class="token string">"Left"</span> Margin<span class="token operator">=</span><span class="token string">"58.6,286,0,0"</span> VerticalAlignment<span class="token operator">=</span><span class="token string">"Top"</span> Width<span class="token operator">=</span><span class="token string">"111"</span> Height<span class="token operator">=</span><span class="token string">"43"</span> Click<span class="token operator">=</span><span class="token string">"Start_Click"</span>/<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button Name<span class="token operator">=</span><span class="token string">"Cancel"</span> FontSize<span class="token operator">=</span><span class="token string">"22"</span> Background<span class="token operator">=</span><span class="token string">"AliceBlue"</span>  Content<span class="token operator">=</span><span class="token string">"取消"</span> Grid.Column<span class="token operator">=</span><span class="token string">"1"</span> HorizontalAlignment<span class="token operator">=</span><span class="token string">"Left"</span> Margin<span class="token operator">=</span><span class="token string">"297.6,286,0,0"</span> VerticalAlignment<span class="token operator">=</span><span class="token string">"Top"</span> Width<span class="token operator">=</span><span class="token string">"111"</span> Height<span class="token operator">=</span><span class="token string">"43"</span> Click<span class="token operator">=</span><span class="token string">"Cancel_Click"</span>/<span class="token operator">></span>
    <span class="token operator">&lt;</span>/Grid<span class="token operator">></span>
<span class="token operator">&lt;</span>/Window<span class="token operator">></span>
</code></pre>
<h5 id="窗口后台代码"><a href="#窗口后台代码" class="headerlink" title="窗口后台代码"></a>窗口后台代码</h5><pre class=" language-bash"><code class="language-bash">using System<span class="token punctuation">;</span>
using System.Collections.Generic<span class="token punctuation">;</span>
using System.Diagnostics<span class="token punctuation">;</span>
using System.Linq<span class="token punctuation">;</span>
using System.Text<span class="token punctuation">;</span>
using System.Threading.Tasks<span class="token punctuation">;</span>
using System.Windows<span class="token punctuation">;</span>
using System.Windows.Controls<span class="token punctuation">;</span>
using System.Windows.Data<span class="token punctuation">;</span>
using System.Windows.Documents<span class="token punctuation">;</span>
using System.Windows.Input<span class="token punctuation">;</span>
using System.Windows.Media<span class="token punctuation">;</span>
using System.Windows.Media.Imaging<span class="token punctuation">;</span>
using System.Windows.Shapes<span class="token punctuation">;</span>

namespace 任务管理器作业.PageOrWindow
<span class="token punctuation">{</span>
    /// <span class="token operator">&lt;</span>summary<span class="token operator">></span>
    /// StartNewProcess.xaml 的交互逻辑
    /// <span class="token operator">&lt;</span>/summary<span class="token operator">></span>
    public partial class StartNewProcess <span class="token keyword">:</span> Window
    <span class="token punctuation">{</span>
        public StartNewProcess<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            InitializeComponent<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        private void Start_Click<span class="token punctuation">(</span>object sender, RoutedEventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Process p <span class="token operator">=</span> new Process<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            p.StartInfo.FileName <span class="token operator">=</span> fileName.Text<span class="token punctuation">;</span>
            p.StartInfo.WindowStyle <span class="token operator">=</span> ProcessWindowStyle.Normal<span class="token punctuation">;</span>
            p.StartInfo.UseShellExecute <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            try
            <span class="token punctuation">{</span>
                p.Start<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            catch <span class="token punctuation">(</span>Exception<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                MessageBox.Show<span class="token punctuation">(</span><span class="token string">"无法打开"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>


        <span class="token punctuation">}</span>

        private void Cancel_Click<span class="token punctuation">(</span>object sender, RoutedEventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                        
                            <li title='1' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
		data-enable='false'
        data-ae='false'
        data-ci=''
        data-cs=''
        data-r=''
        data-o=''
        data-a=''
        data-d='false'
    >查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
